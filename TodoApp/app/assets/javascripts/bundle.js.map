{"version":3,"sources":["webpack/bootstrap de5a9d2c4ddf632e5ece","./frontend/todo_react.jsx","./frontend/stores/todo_store.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap de5a9d2c4ddf632e5ece\n **/","store = require ('./stores/todo_store.js')\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/todo_react.jsx\n **/","var _todos = [],\n    _callbacks = [];\n\nvar TodoStore = {\n\n  changed: function(){\n    _callbacks.forEach(function(cb){\n      cb();\n    });\n  },\n\n  addChangedHandler: function(cb){\n    _callbacks.push(cb);\n  },\n\n  removeChangedHandler: function(cb){\n    _callbacks = _callbacks.filter(function(callback){\n      return cb !== callback;\n    });\n  },\n\n  all: function(){\n    return _todos;\n  },\n\n  fetch: function(){\n    var xmlhttp = new XMLHttpRequest();\n    xmlhttp.onreadystatechange = function(){\n      if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {\n        console.log(xmlhttp.responseText);\n        var todos = JSON.parse(xmlhttp.responseText);\n        _todos = todos;\n        TodoStore.changed();\n      } else {\n        console.log(xmlhttp.readyState);\n      }\n    };\n\n    xmlhttp.open(\"GET\", \"/api/todos\", true);\n    xmlhttp.send();\n  },\n\n  create: function(todo){\n    var newTodo = {todo: todo};\n    $.post(\"/api/todos\", newTodo, function(response) {\n      _todos.push(response);\n      TodoStore.changed();\n    });\n  },\n\n  destroy: function(id){\n    var found = _todos.find(function(todo){\n        return todo.id === id;\n    });\n\n    if(found){\n      $.ajax({\n        url: '/api/todos/' + id,\n        type: 'DELETE',\n        success: function(result){\n          console.log(result);\n          _todos = _todos.filter(function(el){\n            return el.id !== id;\n          });\n          TodoStore.changed();\n        }\n      });\n    }\n  },\n\n  toggleDone: function(id){\n    var found = _todos.find(function(todo){\n      return todo.id === id;\n    });\n\n    var updatedToDo =\n      {todo: {title: found['title'], body: found['body'], done: true}};\n    if (updatedToDo) {\n      $.ajax({\n        url: '/api/todos/' + id,\n        data: updatedToDo,\n        type: 'PATCH',\n        success: function(result){\n          console.log(result);\n\n          _todos = _todos.filter(function(el){\n            return el.id !== id;\n          });\n\n          _todos.push(updatedToDo['todo']);\n\n          TodoStore.changed();\n        }\n      });\n    }\n\n  }\n\n\n\n\n};\n\nmodule.exports = TodoStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/stores/todo_store.js\n **/"],"sourceRoot":""}